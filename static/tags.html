<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家庭物品管理系統 - 標籤管理</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body class="bg-gray-50 text-gray-800 font-sans min-h-screen">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header -->
        <header class="flex justify-between items-center mb-6 pb-6 border-b border-gray-200">
            <div>
                <h1 class="text-3xl font-bold text-gray-900 tracking-tight">我的收藏</h1>
                <p class="text-sm text-gray-500 mt-1">管理並追蹤您的物品與標籤</p>
            </div>
            <a href="/"
                class="bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 px-5 py-2.5 rounded-lg font-medium transition-colors shadow-sm flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20"
                    fill="currentColor">
                    <path fill-rule="evenodd"
                        d="M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z"
                        clip-rule="evenodd" />
                </svg>
                返回物品庫
            </a>
        </header>

        <!-- Navigation Tabs -->
        <div class="mb-8">
            <nav class="flex space-x-4 border-b border-gray-200" aria-label="Tabs">
                <a href="/"
                    class="text-gray-500 hover:text-gray-700 hover:border-gray-300 border-b-2 border-transparent px-3 py-2 text-sm font-medium transition-colors">物品庫</a>
                <a href="/tags"
                    class="text-indigo-600 border-indigo-500 border-b-2 px-3 py-2 text-sm font-medium transition-colors"
                    aria-current="page">標籤管理</a>
            </nav>
        </div>

        <!-- Main Content -->
        <main class="grid grid-cols-1 md:grid-cols-3 gap-8">

            <!-- Tags List -->
            <div class="md:col-span-2 space-y-4">
                <div class="bg-white shadow-sm rounded-xl overflow-hidden border border-gray-200">
                    <div class="px-5 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50/50">
                        <h2 class="text-lg font-semibold text-gray-800">所有標籤</h2>
                        <span id="tagCount"
                            class="bg-gray-100 text-gray-600 text-xs font-semibold px-2.5 py-0.5 rounded-full">0</span>
                    </div>
                    <ul id="tagsList" class="divide-y divide-gray-200">
                        <!-- Tags rendered via JS -->
                    </ul>
                    <div id="emptyTagsState" class="hidden text-center py-12">
                        <svg class="mx-auto h-12 w-12 text-gray-300" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                        </svg>
                        <h3 class="mt-2 text-sm font-medium text-gray-900">沒有任何標籤</h3>
                        <p class="mt-1 text-sm text-gray-500">請在右側新增您的第一個標籤。</p>
                    </div>
                </div>
            </div>

            <!-- Create Tag Sidebar -->
            <div class="md:col-span-1 border-gray-200">
                <form id="addTagForm" class="bg-white p-5 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4 tracking-tight">建立新標籤</h3>
                    <div>
                        <label for="newTagName" class="block text-sm font-medium text-gray-700 mb-1">標籤名稱</label>
                        <input type="text" id="newTagName" name="name" required placeholder="例如：書籍、電子產品"
                            class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block p-2.5 transition-colors">
                    </div>
                    <div class="mt-4">
                        <label for="newTagColor" class="block text-sm font-medium text-gray-700 mb-1">標籤顏色</label>
                        <div class="flex items-center gap-3">
                            <input type="color" id="newTagColor" name="color" value="#4f46e5"
                                class="h-10 w-14 rounded cursor-pointer border-0 p-0 bg-transparent">
                            <span class="text-xs text-gray-500">選擇一個獨特的顏色</span>
                        </div>
                    </div>
                    <button type="submit" id="addTagBtn"
                        class="mt-4 w-full bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-lg font-medium transition-colors shadow-sm flex justify-center items-center">
                        <span>新增標籤</span>
                        <span id="addTagSpinner"
                            class="hidden w-4 h-4 ml-2 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
                    </button>
                    <p class="mt-3 text-xs text-gray-500 text-center">刪除標籤將會把該標籤從所有相關聯的物品中移除。</p>
                </form>
            </div>

        </main>
    </div>

    <script src="/static/tags.js"></script>
</body>

</html>